//-- MOTEUR (GAUCHE) A --
int ENA=9; //Connecté à Arduino pin 9(sortie PWM)
int IN1=4; //Connecté à Arduino pin 4
int IN2=5; //Connecté à Arduino pin 5
int CAPG=11; // Capteur gauche connecté a pin 11
int CAPD=13; // Capteur droit connecté a pin 13
int CAPC=12; // Capteur central connecté a pin 12
//-- MOTEUR (DROIT) B --
int ENB=10; //Connecté à Arduino pin 10(Sortie PWM)
int IN3=6; //Connecté à Arduino pin 6
int IN4=7; //Connecté à Arduino pin 7
void setup() {
  Serial.begin(9600);
  pinMode(ENA,OUTPUT); // Configurer
  pinMode(ENB,OUTPUT); // les broches
  pinMode(IN1,OUTPUT); // comme sortie
  pinMode(IN2,OUTPUT);
  pinMode(IN3,OUTPUT);
  pinMode(IN4,OUTPUT);
  pinMode(CAPG,INPUT);
  pinMode(CAPD,INPUT);
  pinMode(CAPC,INPUT);
  digitalWrite(IN1,HIGH); // orientation des roues
  digitalWrite(IN2,LOW);
  digitalWrite(IN3,LOW);
  digitalWrite(IN4,HIGH);
  digitalWrite(ENA,LOW);// Moteur (GAUCHE) A - Ne pas tourner
  digitalWrite(ENB,LOW);// Moteur (DROIT) B - Ne pas tourner
}
void loop() {
  // si le capteur central detecte ligne noire avancer droit devant
  if (digitalRead(CAPC)==LOW){
    Serial.println("capteur central inactif, la voiture phantom avnce tout droit");
    delay(1000);
    analogWrite(ENA,255);
    analogWrite(ENB,255);}
  // si le capteur droit detecte ligne noire tourner à gauche
  else if (digitalRead(CAPD)==LOW) {
    Serial.println("capteur droit inactif, la voiture tourne à droite");
    delay(1000);
    analogWrite(ENA,255);
    analogWrite(ENB,0);}
  // si le capteur gauche detecte ligne noire tourner à droite
  else if (digitalRead(CAPG)==LOW) {
    Serial.println("capteur gauche inactif, la voiture tourne à gauche");
    delay(1000);
    analogWrite(ENA,0);
    analogWrite(ENB,255);}
}
